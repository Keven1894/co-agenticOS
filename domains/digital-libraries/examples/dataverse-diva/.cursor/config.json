{
  "version": "2.0",
  "description": "DIVA Agent Configuration - Extracted from 3 months production experience",
  "agent_name": "DIVA",
  "domain": "digital-libraries",
  
  "rules": {
    "autoLoad": true,
    "baseDirectory": ".cursor/rules",
    "pattern": "**/*.md",
    
    "tiers": {
      "tier0_core": {
        "description": "Always loaded - Core identity and safety",
        "files": [
          "core/identity.md",
          "core/language.md",
          "core/safety.md"
        ],
        "priority": "highest",
        "estimatedTokens": 5000
      },
      
      "tier1_frequent": {
        "description": "Context-based loading - Loaded when relevant",
        "directories": [
          "standards/",
          "workflows/",
          "actions/",
          "domain/"
        ],
        "priority": "high",
        "loadingStrategy": "context-aware",
        "estimatedTokensPerContext": 2500
      },
      
      "tier2_reference": {
        "description": "Linked only - Not loaded, references external docs",
        "behavior": "provide_links_only",
        "priority": "medium"
      },
      
      "tier3_archive": {
        "description": "Historical - Old versions, superseded rules",
        "behavior": "reference_only",
        "priority": "low"
      }
    },
    
    "contextLoading": {
      "enabled": true,
      "triggers": [
        {
          "condition": "fileType == 'java'",
          "load": ["standards/java.md", "standards/dataverse.md"]
        },
        {
          "condition": "filePattern.includes('email') || content.includes('sendEmail')",
          "load": ["actions/email.md"]
        },
        {
          "condition": "filePattern.includes('env') || content.includes('credential')",
          "load": ["actions/credentials.md"]
        },
        {
          "condition": "taskType == 'deployment'",
          "load": ["workflows/deployment.md"]
        },
        {
          "condition": "taskType == 'planning'",
          "load": ["workflows/planning.md"]
        }
      ]
    }
  },
  
  "tokenBudget": {
    "tier0_always": 5000,
    "tier1_contextual": 2500,
    "total_target": 8000,
    "efficiency_target": "87% reduction from flat structure"
  },
  
  "performance": {
    "loading_time_target": "< 1 second",
    "context_clarity": "focused, relevant only",
    "validated_efficiency": "87% token reduction achieved in DIVA production"
  },
  
  "ignorePatterns": [
    "**/node_modules/**",
    "**/.git/**",
    "**/target/**",
    "**/build/**",
    "**/*.class",
    "**/*.jar",
    "**/*.war",
    "**/.env*",
    "**/.secure_store*",
    "**/pm2-*",
    "**/logs/*.log"
  ],
  
  "includePatterns": [
    "**/*.md",
    "**/*.java",
    "**/*.js",
    "**/*.json",
    "**/*.xml",
    "**/*.yml",
    "**/*.yaml",
    "**/*.sh",
    "**/README*"
  ],
  
  "contextLimits": {
    "maxFiles": 50,
    "maxTokens": 100000
  },
  
  "evidenceSource": {
    "production_duration": "3+ months",
    "sessions_validated": "50+",
    "consistency_rate": "100%",
    "token_efficiency": "87% reduction",
    "team_satisfaction": "9.2/10"
  },
  
  "pitfalls_encoded": [
    "Model censorship warning (1B model)",
    "IT policy checks (n8n ports)",
    "Plan-first resistance management",
    "Token budget explosion prevention",
    "Documentation afterthought prevention"
  ],
  
  "notes": [
    "This configuration encodes DIVA's 3-month learning journey",
    "New agents inherit all institutional knowledge immediately",
    "Tiered loading provides 87% token efficiency",
    "100% procedural consistency validated in production",
    "All pitfalls documented with solutions"
  ]
}

